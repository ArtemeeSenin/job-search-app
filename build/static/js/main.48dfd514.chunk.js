(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(160)},145:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(92),i=a.n(r),o=a(163),s=a(12),l=a(93),m=a(24),u=a(84),d=a.n(u);a(139),a(143);d.a.initializeApp({apiKey:"AIzaSyAW9Yb7OPY8bB-fMi4-x2YYN7JEfeiraSQ",authDomain:"job-search-app-f7fa1.firebaseapp.com",databaseURL:"https://job-search-app-f7fa1.firebaseio.com",projectId:"job-search-app-f7fa1",storageBucket:"job-search-app-f7fa1.appspot.com",messagingSenderId:"794082995107"}),d.a.firestore().settings({timestampsInSnapshots:!0});var p=d.a,f=p.firestore(),h="ADD_VCANCY",g="UPDATE_VACANCY",b="DELETE_VACANCY",y="RECEIVE_VACANCIES",_="RESET_STORE_VACANCIES";function v(e){return e.workDay=60*e.workDay,function(t){f.collection("vacancies").add(Object(m.a)({},e,{author:JSON.parse(localStorage.getItem("user")),createdAt:new Date})).then(function(a){console.log(a,a.id),t(function(e,t){return console.log("action",e,t),{type:h,data:Object(m.a)({},e,{author:JSON.parse(localStorage.getItem("user")),id:t})}}(e,a.id))}).catch(function(e){console.log(e)})}}function E(e){return function(t){f.collection("vacancies").doc(e).delete().then(function(a){t(function(e){return{type:b,id:e}}(e))}).catch(function(e){console.log(e)})}}function N(){return console.log("start receiving for ",JSON.parse(localStorage.getItem("user"))),function(e){f.collection("vacancies").where("author","==",JSON.parse(localStorage.getItem("user"))).get().then(function(t){var a=[];t.forEach(function(e){a.push(Object(m.a)({},e.data(),{id:e.id}))}),e(function(e){return{type:y,data:e}}(a))}).catch(function(e){console.log("Error getting documents: ",e)})}}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"SET_VISIBILITY_FILTER_STATUS",statuses:Object.keys(e).filter(function(t){return e[t]})}},x=function(){return{type:"SET_VISIBILITY_FILTER_TEXT",text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}},j={text:"",status:[]},w=a(69),S=Object(s.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},vacancies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return e.concat(t.data);case g:return e.filter(function(e){return e.id!==t.data.id}).concat(t.data);case b:return e.filter(function(e){return e.id!==t.id});case y:return e.concat(t.data);case _:return[];default:return e}},visibilityFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER_STATUS":return Object(m.a)({},e,{status:t.statuses});case"SET_VISIBILITY_FILTER_TEXT":return Object(m.a)({},e,{text:t.text});default:return e}},form:w.a,loading:l.loadingBarReducer}),k=a(97),C=a(98),I=Object(C.composeWithDevTools)(Object(s.applyMiddleware)(k.a)),T=a(14),A=(a(145),a(6)),L=a(7),D=a(9),F=a(8),R=a(10),V=a(13),M=a(165),P=a(147),W=a(164),Y=a(16),q=a.n(Y),B=a(156),J=a(162);var U=function(e){e.user;var t=e.component,a=e.data,n=Object(B.a)(e,["user","component","data"]);return c.a.createElement(P.a,Object.assign({},n,{render:function(e){return localStorage.getItem("user")?c.a.createElement(t,Object.assign({data:a},e)):c.a.createElement(J.a,{to:"/sign-in"})}}))},z=a(161),H=function(e){return c.a.createElement("div",{className:"logo ".concat(e.className)},c.a.createElement("div",{className:"logo__line-top"},"Find"),c.a.createElement("div",{className:"logo__line-bottom"},"Work"))},G=function(e){function t(){var e;return Object(A.a)(this,t),(e=Object(D.a)(this,Object(F.a)(t).call(this))).state={hamburder:!1},e.bodyInactive=e.bodyInactive.bind(Object(V.a)(Object(V.a)(e))),e}return Object(R.a)(t,e),Object(L.a)(t,[{key:"componentWillUnmount",value:function(){document.body.className="",this.setState({hamburger:!1})}},{key:"bodyInactive",value:function(e){document.body.className="",this.setState({hamburger:!1})}},{key:"render",value:function(){var e=this;return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"container"},c.a.createElement("nav",{className:"main-nav"},c.a.createElement(z.a,{to:"/account/rating",className:"main-nav__logo-container"},c.a.createElement(H,null)),c.a.createElement("button",{type:"button",className:q()("hamburger","hamburger--collapse",{"is-active":this.state.hamburger}),onClick:function(){e.setState({hamburger:!e.state.hamburger}),document.body.classList.toggle("is-menu-active")}},c.a.createElement("span",{className:"hamburger-box"},c.a.createElement("span",{className:"hamburger-inner"}))),c.a.createElement("ul",{className:"nav-list"},c.a.createElement("li",{className:"nav-list__item"},c.a.createElement(z.a,{to:"/account/rating",className:"nav-list__item-link",onClick:this.bodyInactive},"Rating")),c.a.createElement("li",{className:"nav-list__item"},c.a.createElement(z.a,{to:"/account/vacancy/add",className:"nav-list__item-link",onClick:this.bodyInactive},"Add new vacancy")),c.a.createElement("li",{className:"nav-list__item nav-list__item--divide"},c.a.createElement(z.a,{to:"/logout",className:"nav-list__item-link",onClick:this.bodyInactive},"Logout"))))))}}]),t}(n.Component),X=a(149),K=a(67),Q=a(65),$=p.auth,Z=function(e){return e?void 0:"Value is required"},ee=function(e){console.log(e,Number(e));var t=Number(e);return t===t?void 0:"Value is required"},te=function(e,t){return t.status?void 0:"Value is required"},ae=function(e,t){return e===t.password?void 0:"Passwords must match"},ne=function(e){return e.length>=6?void 0:"Password must be at least 6 characters"},ce=function(e){return/^\S+@\S+\.\S+$/i.test(e)?void 0:"Not a valid email"},re=a(99),ie=a.n(re),oe=function(e){var t=e.label,a=e.placeholder,n=e.input,r=e.inputModifiers,i=e.type,o=e.meta,s=e.additionalClasses;return c.a.createElement("div",{className:q()("text-input ".concat(s||""),{"text-input--error":o.error&&o.touched&&!o.active})},c.a.createElement("label",{className:"text-input__label"},t,c.a.createElement("input",Object.assign({},n,{type:i,className:"text-input__field ".concat(r),placeholder:a})),c.a.createElement("span",{className:"text-input__message"},o.error?o.error:"")))},se=function(e){var t=e.label,a=e.placeholder,n=e.rows,r=e.cols,i=e.input,o=e.inputModifiers,s=e.meta;return c.a.createElement("div",{className:q()("text-input",{"text-input--error":s.error&&s.touched&&!s.active})},c.a.createElement("label",{className:"text-input__label"},t,c.a.createElement("textarea",Object.assign({},i,{rows:n,cols:r,className:"text-input__field ".concat(o),placeholder:a})),c.a.createElement("span",{className:"text-input__message"},s.error?s.error:"")))},le=function(e){var t=e.label,a=e.input,n=e.inputModifiers,r=e.type;return c.a.createElement("div",{className:"text-input text-input--checkbox"},c.a.createElement("label",{className:"text-input__label text-input__label--checkbox"},c.a.createElement("input",Object.assign({},a,{type:r,className:"text-input__field ".concat(n)})),c.a.createElement("i",{className:"text-input__field-icon fal"}),c.a.createElement("span",null,t)))},me=function(e){var t=e.input,a=e.type,n=e.key;return c.a.createElement("label",{className:"text-input__label text-input__label",key:n},c.a.createElement("input",Object.assign({},t,{type:a,className:"text-input__field"})),c.a.createElement("i",{className:"text-input__field-icon fal fa-dot-circle"}),c.a.createElement("span",null,ie()(t.value)))},ue=function(e){var t=e.label,a=e.radioName,n=e.meta,r=e.fields;return c.a.createElement("div",{className:q()("text-input","text-input--radio",{"text-input--error":n.error&&n.submitFailed&&!n.active})},c.a.createElement("p",{className:"text-input__name"},t),r.map(function(e,t){return c.a.createElement(K.a,{type:"radio",name:a,value:e,component:me,key:t,validate:[te]})}),c.a.createElement("span",{className:"text-input__message"},n.error?n.error:""))},de=function(e){var t=e.input,a=e.label,n=e.type,r=e.modifier;return c.a.createElement("li",{className:"rating-filters__dropdown-list-item"},c.a.createElement("label",{className:"rating-filters__filter rating-filters__filter--".concat(r)},c.a.createElement("input",Object.assign({},t,{type:n,className:"rating-filters__checkbox"})),c.a.createElement("i",{className:"rating-filters__filter-icon fal"}),c.a.createElement("span",null,a)))},pe=function(e){var t=e.input;return c.a.createElement("input",Object.assign({},t,{type:"text",className:"rating-filters__search-line-input",placeholder:"Start search"}))},fe=Object(Q.a)({form:"signin",asyncValidate:function(e){return $().signInWithEmailAndPassword(e.login,e.password).then(function(t){localStorage.setItem("user",JSON.stringify(e.login)),localStorage.getItem("user")}).catch(function(e){throw console.log("error"),{password:"Wrong login or password"}})},asyncBlurFields:["password"]})(function(e){var t=e.handleSubmit,a=e.onSubmit;return c.a.createElement("form",{onSubmit:t(a),className:"form",autoComplete:"off"},c.a.createElement(K.a,{name:"login",component:oe,type:"text",label:"Login",placeholder:"Your email address",normalize:function(e){return e.toLowerCase()},validate:[Z,ce]}),c.a.createElement(K.a,{name:"password",component:oe,type:"password",label:"Password",placeholder:"",validate:[Z]}),c.a.createElement(X.a,{to:"/reset-password",className:"button button--hint"},"I can't log in")," ",c.a.createElement("br",null),c.a.createElement("button",{type:"submit",className:"button button--shadow"},"Log in"),c.a.createElement("div",{className:"sign__label-text"},"Don't have an account yet?"),c.a.createElement(X.a,{to:"/sign-up",className:"button button--shadow"},"Sign up"))}),he=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(D.a)(this,Object(F.a)(t).call(this,e))).state={},a.onSubmit=a.onSubmit.bind(Object(V.a)(Object(V.a)(a))),a}return Object(R.a)(t,e),Object(L.a)(t,[{key:"onSubmit",value:function(e){this.props.onLogin(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"sign sign--bg-variation-light"},c.a.createElement(X.a,{to:"/",className:"sign__logo-container"},c.a.createElement(H,{className:"logo--inverse"})),c.a.createElement("h1",{className:"heading heading--xxx-large heading--text-center heading--color-inverse"},"Sign in"),c.a.createElement(fe,{onSubmit:this.onSubmit}))}}]),t}(n.Component),ge=function(e){function t(){return Object(A.a)(this,t),Object(D.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return null}}]),t}(n.Component),be=Object(Q.a)({form:"signup",asyncValidate:function(e){return $().fetchSignInMethodsForEmail(e.login).then(function(e){if(e.length)throw{login:"Wrong credentials"}})},asyncBlurFields:["login"]})(function(e){var t=e.handleSubmit,a=e.onSubmit;return c.a.createElement("form",{onSubmit:t(a),className:"form",autoComplete:"off"},c.a.createElement(K.a,{name:"login",component:oe,type:"text",label:"Login",placeholder:"Your email address",normalize:function(e){return e.toLowerCase()},validate:[Z,ce]}),c.a.createElement(K.a,{name:"password",component:oe,type:"password",label:"Password",placeholder:"",validate:[Z,ne]}),c.a.createElement(K.a,{name:"confirmPassword",component:oe,type:"password",label:"Repeat password",placeholder:"",validate:[Z,ae]}),c.a.createElement("button",{type:"submit",className:"button button--shadow"},"Register"),c.a.createElement("div",{className:"sign__label-text"},"Already have an account?"),c.a.createElement(X.a,{to:"/sign-in",className:"button button--shadow"},"Sign in"))}),ye=function(e){function t(){var e;return Object(A.a)(this,t),(e=Object(D.a)(this,Object(F.a)(t).call(this))).state={},e.onSubmit=e.onSubmit.bind(Object(V.a)(Object(V.a)(e))),e}return Object(R.a)(t,e),Object(L.a)(t,[{key:"onSubmit",value:function(e){this.props.onLogin(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"sign sign--bg-variation-medium"},c.a.createElement(X.a,{to:"/",className:"sign__logo-container"},c.a.createElement(H,{className:"logo--inverse"})),c.a.createElement("h1",{className:"heading heading--xxx-large heading--text-center heading--color-inverse"},"Sign Up"),c.a.createElement(be,{onSubmit:this.onSubmit}))}}]),t}(n.Component),_e=Object(Q.a)({form:"resetpassword"})(function(e){var t=e.handleSubmit,a=e.onSubmit,n=e.succesText;return c.a.createElement("form",{className:"form",onSubmit:t(a)},n?c.a.createElement("div",{className:"sign__label-text"},n):c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a,{name:"login",component:oe,type:"text",label:"Login",placeholder:"Your email address",normalize:function(e){return e.toLowerCase()},validate:[Z,ce]}),c.a.createElement("button",{type:"submit",className:"button button--shadow"},"Reset"),c.a.createElement("div",{className:"sign__label-text"},"Remembered your password?")),c.a.createElement(X.a,{to:"/sign-in",className:"button button--shadow"},"Sign in"))}),ve=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(D.a)(this,Object(F.a)(t).call(this,e))).state={text:null},a.onSubmit=a.onSubmit.bind(Object(V.a)(Object(V.a)(a))),a}return Object(R.a)(t,e),Object(L.a)(t,[{key:"onSubmit",value:function(e){this.setState({text:this.props.onResetPassword(e)})}},{key:"render",value:function(){return c.a.createElement("div",{className:"sign sign--bg-variation-dark-weak"},c.a.createElement(X.a,{to:"/",className:"sign__logo-container"},c.a.createElement(H,{className:"logo--inverse"})),c.a.createElement("h1",{className:"heading heading--xxx-large heading--text-center heading--color-inverse"},"Reset password"),c.a.createElement(_e,{onSubmit:this.onSubmit,succesText:this.state.text}))}}]),t}(n.Component),Ee=a(152),Ne=a(25),Oe=a(64),xe=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(D.a)(this,Object(F.a)(t).call(this,e))).onSubmit=function(e){a.props.dispatch(O(e.status)),a.props.dispatch(x(e.textFilter))},a.resetFilters=function(){a.props.dispatch(Object(Ne.b)("filters",!1,!1,["textFilter","status"]))},a.state=Object(m.a)({},e,{statusFilterOpened:!1,textFilterOpened:!1,handleSubmit:e.handleSubmit,searchValue:""}),a}return Object(R.a)(t,e),Object(L.a)(t,[{key:"useSuggestion",value:function(e){this.props.dispatch(Object(Ne.a)("filters","textFilter",e)),this.setState({searchValue:"",textFilterOpened:!1})}},{key:"render",value:function(){var e=this,t=[];return new Set([].concat(Object(Ee.a)(this.props.positions),Object(Ee.a)(this.props.companies))).forEach(function(e){return t.push(e)}),c.a.createElement("div",{className:"rating-filters"},c.a.createElement("form",{onSubmit:this.state.handleSubmit(this.onSubmit),className:"rating-filters__form",autoComplete:"off",noValidate:!0},c.a.createElement("div",{className:q()("rating-filters__search",{"rating-filters__search--is-active":this.state.searchValue})},c.a.createElement("div",{className:"rating-filters__search-line"},c.a.createElement(K.a,{name:"textFilter",component:pe,onChange:function(t,a){e.setState({searchValue:a,textFilterOpened:!0})}}),c.a.createElement("i",{className:"fal fa-search"})),c.a.createElement("ul",{className:"rating-filters__dropdown-list rating-filters__dropdown-list--floating"},this.state.textFilterOpened?t.filter(function(t){return t.toLowerCase().includes(e.state.searchValue.toLowerCase())}).map(function(t){return c.a.createElement("li",{key:t,className:"rating-filters__dropdown-list-item rating-filters__filter",onClick:function(){return e.useSuggestion(t)}},t)}):null)),c.a.createElement("div",{className:q()("rating-filters__statuses",{"rating-filters__statuses--is-active":this.state.statusFilterOpened})},c.a.createElement("p",{className:"rating-filters__statuses-text",onClick:function(){return e.setState({statusFilterOpened:!e.state.statusFilterOpened})}},"Status",c.a.createElement("i",{className:"fal fa-chevron-down"})),c.a.createElement("ul",{className:"rating-filters__dropdown-list"},c.a.createElement(Oe.a,{name:"status"},c.a.createElement(K.a,{name:"offer",type:"checkbox",component:de,modifier:"offer",label:"Offer"}),c.a.createElement(K.a,{name:"candidate",type:"checkbox",component:de,modifier:"candidate",label:"Candidate"}),c.a.createElement(K.a,{name:"not suitable",type:"checkbox",component:de,modifier:"not-suitable",label:"Not suitable"}),c.a.createElement(K.a,{name:"declined",type:"checkbox",component:de,modifier:"declined",label:"Declined"})))),c.a.createElement("button",{className:"rating-filters__filter-button button button--ghost",type:"submit"},"Filter"),c.a.createElement("button",{className:"rating-filters__filter-button button button--ghost",onClick:this.resetFilters},"Reset")))}}]),t}(n.Component);var je=Object(T.connect)(function(e){return e.vacancies.length?{positions:e.vacancies.map(function(e){return e.position}).sort(),companies:e.vacancies.map(function(e){return e.company}).sort()}:{positions:[],companies:[]}})(Object(Q.a)({form:"filters",destroyOnUnmount:!1})(xe)),we=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(D.a)(this,Object(F.a)(t).call(this,e))).state={commentaryIsActive:!1,toogleComment:!0},a}return Object(R.a)(t,e),Object(L.a)(t,[{key:"stripTags",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText}},{key:"render",value:function(){var e=this,t=this.props.data;return c.a.createElement("tr",{className:"rating-table__table-row"},c.a.createElement("td",{className:"vacancy-summary vacancy-summary--".concat(t.status.toLowerCase().split(" ").join("-")," rating-table__table-data")},c.a.createElement("div",{className:"vacancy-summary__position"},c.a.createElement("h2",{className:"vacancy-summary__position-name"},c.a.createElement(X.a,{className:"vacancy-summary__link",to:"/account/vacancy/".concat(t.id)},t.position)),c.a.createElement("h3",{className:"vacancy-summary__position-company"},c.a.createElement(X.a,{className:"vacancy-summary__link",to:"/account/company/".concat(t.id)},t.company))),c.a.createElement("div",{className:"vacancy-summary__conditions"},c.a.createElement("div",{className:"vacancy-summary__conditions-main-info-contrainer"},c.a.createElement("h4",{className:"vacancy-summary__salary"},c.a.createElement("span",{className:"vacancy-summary__salary-number"},t.salary.toLocaleString("ru")),c.a.createElement("span",{className:"vacancy-summary__salary-currency"},"\u20bd")),c.a.createElement("div",{className:"vacancy-summary__conditions-status-container"},c.a.createElement("div",{className:"vacancy-summary__status"},c.a.createElement("i",{className:"vacancy-summary__status-icon vacancy-summary__status-icon--".concat(t.status.toLowerCase().split(" ").join("-")," fas fa-circle")}),c.a.createElement("span",{className:"vacancy-summary__status-text"},t.status))),c.a.createElement("ul",{className:"vacancy-summary__info-list"},c.a.createElement("li",{className:"vacancy-summary__info-list-item"},c.a.createElement("i",{className:"fal fa-clock"}),c.a.createElement("span",{className:"vacancy-summary__info-list-item-text"},Math.ceil(t.workDay/60)," h. work day")),c.a.createElement("li",{className:"vacancy-summary__info-list-item"},c.a.createElement("i",{className:"fal fa-bus"}),c.a.createElement("span",{className:"vacancy-summary__info-list-item-text"},t.inTheWay," min. in the way"))))),c.a.createElement("div",{className:"vacancy-summary__addtional-info"},c.a.createElement("div",{className:"vacancy-summary__requirements"},c.a.createElement("ul",{className:"vacancy-summary__info-list"},t.requiresAdditionalStudying?c.a.createElement("li",{className:"vacancy-summary__info-list-item"},c.a.createElement("i",{className:"fal fa-graduation-cap"}),c.a.createElement("span",{className:"vacancy-summary__info-list-item-text"},"Additional studying is required")):"",c.a.createElement("li",{className:"vacancy-summary__info-list-item"},c.a.createElement("i",{className:"fal fa-".concat(t.isInteresting?"smile":"frown")}),c.a.createElement("span",{className:"vacancy-summary__info-list-item-text"},t.isInteresting?"Interesting":"Not interesting"))),t.commentary?c.a.createElement("div",{className:"vacancy-summary__commentary-container",onClick:function(){e.setState({commentaryIsActive:!e.state.commentaryIsActive})}},c.a.createElement("div",{className:q()("comment-toggling","comment-toggling--one-line",{"comment-toggling--is-active":this.state.commentaryIsActive})},c.a.createElement("p",{className:"comment-toggling__text"},this.stripTags(t.commentary)))):null))))}}]),t}(n.Component),Se=function(e){var t=e.data,a=t.vacancies,n=t.visibilityFilter;return c.a.createElement("div",{className:"rating-table"},c.a.createElement("table",{className:"rating-table__table"},c.a.createElement("tbody",null,a.filter(function(e){return n.status.length?n.status.includes(e.status):e}).filter(function(e){return n.text?e.position.toLowerCase().includes(n.text.toLowerCase())||e.company.toLowerCase().includes(n.text.toLowerCase()):e}).map(function(e,t){return c.a.createElement(we,{key:t,data:e})}))),0===a.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{style:{textAlign:"center"}},"Can't seem to find any vacancies yet"),c.a.createElement("h3",{style:{textAlign:"center"}},"Go ahead and ",c.a.createElement(X.a,{to:"/account/vacancy/add",className:"rating-table__add-new-hint"},"add new vacancy")," right now!")):null)};var ke=Object(T.connect)(function(e){var t=e.vacancies,a=function(e,t){return e.status===t.status?function(e,t){return e.isInteresting===t.isInteresting?function(e,t){var a=~~(e.salary/(e.workDay+e.inTheWay));return~~(t.salary/(t.workDay+t.inTheWay))-a}(e,t):!e.isInteresting}(e,t):"offer"===e.status?-1:"offer"===t.status?1:"candidate"===e.status?-1:"candidate"===t.status?1:"not suitable"===e.status?-1:"not suitable"===t.status?1:void 0};return t.sort(function(e,t){return a(e,t)}),{vacancies:t,visibilityFilter:e.visibilityFilter}})(function(e){return c.a.createElement("div",{className:"rating"},c.a.createElement(je,null),c.a.createElement(Se,{data:e}))}),Ce=function(e){var t=e.data;return c.a.createElement("header",{className:"card-info__header"},c.a.createElement("div",{className:"card-info__header-vacancy"},c.a.createElement("h1",{className:"card-info__header-vacancy-position"},t.pageName),t.company?c.a.createElement("h2",{className:"card-info__header-vacancy-company"},c.a.createElement(X.a,{to:"/account/company/".concat(t.id)},t.company)):null),t.salary?c.a.createElement("div",{className:"card-info__header-salary"},c.a.createElement("h2",{className:"card-info__header-salary-amount"},c.a.createElement("span",{className:"card-info__header-salary-amount-number"},t.salary.toLocaleString("ru")),c.a.createElement("span",{className:"card-info__header-salary-amount-currency"},"\u20bd"))):null)},Ie=function(e){var t=e.data;return c.a.createElement("ul",{className:"card-info__conditions-list"},t.map(function(e,t){var a=e.text,n=e.type;return c.a.createElement("li",{key:t,className:"card-info__conditions-list-item"},c.a.createElement("i",{className:"fal fa-".concat(n)}),c.a.createElement("span",{className:"card-info__conditions-list-item-text"},a))}))};function Te(e){return{__html:e}}var Ae=function(e){function t(){var e;return Object(A.a)(this,t),(e=Object(D.a)(this,Object(F.a)(t).call(this))).state={descriptionToggled:!1,commentToggled:!1},e}return Object(R.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.features;return c.a.createElement("div",{className:q()("card-info__content",{"card-info__content--column":!n})},c.a.createElement("section",{className:q()("card-info__comment",{"card-info__comment--is-active":this.state.commentToggled}),onClick:function(){return e.setState({commentToggled:!e.state.commentToggled})}},c.a.createElement("h3",{className:"heading heading--large"},"Personal commentary"),c.a.createElement("div",{className:"card-info__comment-text",dangerouslySetInnerHTML:Te(a.commentary)})),n?c.a.createElement("section",{className:"card-info__conditions"},c.a.createElement("h3",{className:"heading heading--large card-info__conditions-heading"},"Conditions"),c.a.createElement(Ie,{data:n})):null,c.a.createElement("section",{className:q()("card-info__description",{"card-info__description--is-active":this.state.descriptionToggled}),onClick:function(){return e.setState({descriptionToggled:!e.state.descriptionToggled})}},c.a.createElement("h3",{className:"heading heading--large"},"Job description"),c.a.createElement("div",{className:"card-info__description-text",dangerouslySetInnerHTML:Te(a.description)})))}}]),t}(n.Component),Le=function(e){function t(){return Object(A.a)(this,t),Object(D.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(L.a)(t,[{key:"deleteAction",value:function(e){this.props.dispatch(E(e)),this.props.history.push("/account/rating")}},{key:"render",value:function(){var e=this,t=this.props.vacancy,a=[];return t?(t.workDay&&a.push({type:"clock",text:Math.ceil(t.workDay/60)+"h. work day"}),t.inTheWay&&a.push({type:"bus",text:t.inTheWay+"m. in the way"}),t.isInteresting&&a.push({type:t.isInteresting?"smile":"frown",text:"Is interesting"}),t.requiresAdditionalStudying&&a.push({type:"graduation-cap",text:"Requires additional studying"}),c.a.createElement("article",{className:"card-info"},c.a.createElement(Ce,{data:{pageName:t.position,company:t.company,salary:t.salary,id:t.id}}),c.a.createElement(Ae,{data:t,features:a}),c.a.createElement("footer",{className:"card-info__footer"},c.a.createElement("div",{className:"card-info__footer-buttons-container"},c.a.createElement(X.a,{className:"button",to:"/account/rating"},"See rating"),c.a.createElement(X.a,{className:"button",to:"/account/vacancy/edit/".concat(t.id)},"Edit"),c.a.createElement("button",{className:"button",onClick:function(a){e.deleteAction(t.id)}},"Delete"))))):c.a.createElement("h2",{style:{textAlign:"center"}},"Loading..")}}]),t}(n.Component);var De=Object(T.connect)(function(e,t){var a=e.vacancies,n=e.dispatch;return{vacancy:a.filter(function(e){return e.id===t.match.params.id})[0],dispatch:n}})(Le),Fe=a(70),Re=a.n(Fe),Ve=a(151),Me=a(68),Pe=a(154),We=function(e){return parseInt(e)},Ye=a.n(Pe)()(function(e){return fetch("https://autocomplete.clearbit.com/v1/companies/suggest?query="+encodeURIComponent(e))},600),qe=function(e){return fetch("https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&prop=extracts&format=json&exintro=&titles="+encodeURIComponent(e))},Be=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(D.a)(this,Object(F.a)(t).call(this,e))).handleTextChange=function(){var e=Object(Ve.a)(Re.a.mark(function e(t){var n,c;return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t);case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,a.setState({companyNameAutocomplete:c});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.getCompanyDescription=function(){var e=Object(Ve.a)(Re.a.mark(function e(t){var n,c,r,i,o;return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t);case 2:return n=e.sent,e.next=5,n.json();case 5:for(o in c=e.sent,r="",i=c.query.pages)r+=i[o].extract?i[o].extract:"";a.props.dispatch(Object(Ne.a)("vacancy","companyDescription",r));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={companyNameAutocomplete:[],companyDescriptionAutocomplete:""},a}return Object(R.a)(t,e),Object(L.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleSubmit,n=t.deleteAction,r=t.history,i=t.match,o=i.params.id?i.params.id:null;return c.a.createElement("article",{className:"card-info"},c.a.createElement(Ce,{data:{pageName:"Add new vacancy"}}),c.a.createElement("form",{onSubmit:a,className:"linear-form",noValidate:!0,id:"vacancy",autoComplete:"off"},c.a.createElement(K.a,{name:"position",component:oe,type:"text",label:"Name",placeholder:"Offered position",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal",validate:[Z]}),c.a.createElement(K.a,{name:"company",component:oe,type:"text",label:"Company",placeholder:"Company name",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal",additionalClasses:["text-input--no-margin-bottom"],validate:[Z],onChange:function(t,a){a&&e.handleTextChange(a)}}),c.a.createElement("ul",{className:"linear-form__company-autocomplete"},this.state.companyNameAutocomplete.map(function(t,a){return c.a.createElement("li",{className:"linear-form__company-autocomplete-item",key:a,onClick:function(){e.props.dispatch(Object(Ne.a)("vacancy","company",t.name)),e.props.dispatch(Object(Ne.a)("vacancy","companyLogo",t.logo)),e.getCompanyDescription(t.name),e.setState({companyNameAutocomplete:[]})}},t.name," | ",t.domain)})),c.a.createElement(K.a,{name:"salary",component:oe,type:"number",label:"Salary \u20bd",placeholder:"Salary amount",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal",normalize:We,validate:[ee]}),c.a.createElement(K.a,{name:"workDay",component:oe,type:"number",label:"Work day (h.)",placeholder:"The duration of the working day",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal",normalize:We,validate:[ee]}),c.a.createElement(K.a,{name:"inTheWay",component:oe,type:"number",label:"In the way time (min.)",placeholder:"Minutes",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal",normalize:We,validate:[ee]}),c.a.createElement(K.a,{name:"description",component:se,label:"Description",placeholder:"Describe what is required on this job",rows:"5",cols:"45",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal text-input__field--area"}),c.a.createElement(K.a,{name:"isInteresting",component:le,type:"checkbox",label:"Interesting"}),c.a.createElement(K.a,{name:"requiresAdditionalStudying",component:le,type:"checkbox",label:"Additional studying"}),c.a.createElement(K.a,{name:"commentary",component:se,label:"Personal commentary",placeholder:"What do you think about getting this job",rows:"3",cols:"45",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal text-input__field--area",validate:[Z]}),c.a.createElement(K.a,{name:"companyCommentary",component:se,label:"Commentary about company",placeholder:"About the conditions, office, etc.",rows:"2",cols:"45",inputModifiers:"text-input__field--dark-border text-input__field--fw-normal text-input__field--area"}),c.a.createElement(Me.a,{label:"Status",name:"statusRadio",radioName:"status",fields:["candidate","offer","declined","not suitable"],component:ue,validate:[te]})),c.a.createElement("footer",{className:"card-info__footer"},c.a.createElement("div",{className:"card-info__footer-buttons-container"},c.a.createElement("button",{type:"submit",form:"vacancy",className:"button"},"Save"),o?c.a.createElement("button",{className:"button",onClick:function(e){n(o)}},"Delete"):null,c.a.createElement("button",{onClick:r.goBack,className:"button"},"Cancel"))))}}]),t}(n.Component),Je=Object(Q.a)({form:"vacancy"})(Be);var Ue=Object(T.connect)(function(e){return{vacancies:e.vacancies}})(Object(W.a)(function(e){var t=e.history,a=e.match,n=e.location,r=e.dispatch,i=null;if(n.pathname.includes("add")||(i=e.vacancies.filter(function(e){return e.id===a.params.id})[0])&&(i=Object(m.a)({},i,{workDay:i.workDay/60})),!i&&!n.pathname.includes("add"))return c.a.createElement("h2",{style:{textAlign:"center"}},"Loading..");return c.a.createElement(Je,{onSubmit:function(e){var n;console.log(JSON.stringify(e,null,2)),a.params.id?r(((n=e).workDay=60*n.workDay,function(e){f.collection("vacancies").doc(n.id).update(Object(m.a)({},n)).then(function(t){e({type:g,data:n})}).catch(function(e){console.log(e)})})):r(v(e)),t.push("/account/rating")},history:t,match:a,initialValues:i,deleteAction:function(e){r(E(e)),t.push("/account/rating")}})})),ze=function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"heading heading--xxx-large heading--text-center heading--color-inverse"},"Sorry, no such page"),c.a.createElement(X.a,{to:"/",style:{display:"block",textAlign:"center",color:"#333",fontSize:"30px"}},"Go to homepage"))},He=function(){return c.a.createElement(M.a,null,c.a.createElement(P.a,{path:"/account/vacancy/add",component:Ue}),c.a.createElement(P.a,{path:"/account/vacancy/edit/:id",component:Ue}),c.a.createElement(P.a,{path:"/account/vacancy/delete/:id",component:De}),c.a.createElement(P.a,{path:"/account/vacancy/:id",component:De}),c.a.createElement(P.a,{path:"*",component:ze}))};var Ge=function(e){function t(){var e;return Object(A.a)(this,t),(e=Object(D.a)(this,Object(F.a)(t).call(this))).state={descriptionToggled:!1,commentToggled:!1},e}return Object(R.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.data,n=a.companyLogo?'<img src="'.concat(a.companyLogo,'" class="card-info__logo" alt="').concat(a.company,'" />'):"",r=a.companyDescription?a.companyDescription:"";return c.a.createElement("div",{className:"card-info__content card-info__content--column"},a.companyCommentary?c.a.createElement("section",{className:q()("card-info__comment",{"card-info__comment--is-active":this.state.commentToggled}),onClick:function(){return t.setState({commentToggled:!t.state.commentToggled})}},c.a.createElement("h3",{className:"heading heading--large"},"Personal commentary"),c.a.createElement("div",{className:"card-info__comment-text"},a.companyCommentary)):null,c.a.createElement("section",{className:q()("card-info__description",{"card-info__description--is-active":this.state.descriptionToggled}),onClick:function(){return t.setState({descriptionToggled:!t.state.descriptionToggled})}},c.a.createElement("div",{className:"card-info__description-text",dangerouslySetInnerHTML:(e=n+r,{__html:e})})))}}]),t}(n.Component),Xe=function(e){function t(){return Object(A.a)(this,t),Object(D.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.vacancy;return e?c.a.createElement("article",{className:"card-info"},c.a.createElement(Ce,{data:{pageName:e.company}}),c.a.createElement(Ge,{data:e}),c.a.createElement("footer",{className:"card-info__footer"},c.a.createElement("div",{className:"card-info__footer-buttons-container"},c.a.createElement(X.a,{className:"button",to:"/account/rating"},"See rating"),c.a.createElement(X.a,{className:"button",to:"/account/vacancy/edit/".concat(e.id)},"Edit"),c.a.createElement(X.a,{className:"button",to:"/account/vacancy/".concat(e.id)},"See Vacancy")))):c.a.createElement("h2",{style:{textAlign:"center"}},"Loading..")}}]),t}(n.Component);var Ke=Object(T.connect)(function(e,t){var a=e.vacancies,n=e.dispatch;return{vacancy:a.filter(function(e){return e.id===t.match.params.id})[0],dispatch:n}})(Xe),Qe=function(){return c.a.createElement(M.a,null,c.a.createElement(P.a,{path:"/account/company/:id",component:Ke}),c.a.createElement(P.a,{path:"*",component:ze}))},$e=function(){return c.a.createElement(M.a,null,c.a.createElement(P.a,{path:"/",exact:!0,render:function(e){return c.a.createElement(J.a,{to:"/account/rating"})}}),c.a.createElement(P.a,{path:"/account/rating",exact:!0,component:ke}),c.a.createElement(P.a,{path:"/account/vacancy",component:He}),c.a.createElement(P.a,{path:"/account/company",component:Qe}),c.a.createElement(P.a,{path:"*",component:ze}))},Ze=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(D.a)(this,Object(F.a)(t).call(this,e))).login=function(e){a.props.history.push("/account/rating")},a.signup=function(e){console.log("signup",e),p.auth().createUserWithEmailAndPassword(e.login,e.password).then(function(e){console.log(e.user.email),localStorage.setItem("user",JSON.stringify(e.user.email))}).then(function(){return a.props.history.push("/account/rating")}).catch(function(e){return console.log(e)})},a.logout=function(e){p.auth().signOut().then(function(){localStorage.removeItem("user"),a.props.dispatch({type:_}),a.props.history.push("/sign-in")})},a.authListener=function(e){p.auth().onAuthStateChanged(function(e){console.log("auth changed",e),e&&a.props.dispatch(N())})},a.resetPassword=function(e){return console.log("reset password",e),p.auth().sendPasswordResetEmail(e.login).then(function(e){console.log("Email sent.",e),localStorage.removeItem("user")}).catch(function(e){console.log(e)}),"Now you can sign in"},a.login=a.login.bind(Object(V.a)(Object(V.a)(a))),a.signup=a.signup.bind(Object(V.a)(Object(V.a)(a))),a.logout=a.logout.bind(Object(V.a)(Object(V.a)(a))),a.resetPassword=a.resetPassword.bind(Object(V.a)(Object(V.a)(a))),a.authListener=a.authListener.bind(Object(V.a)(Object(V.a)(a))),a}return Object(R.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){console.log("Initialize App"),this.authListener()}},{key:"render",value:function(){var e=this,t=this.props.location.pathname;return c.a.createElement(n.Fragment,null,t.includes("account")?c.a.createElement(G,null):null,c.a.createElement("main",{className:q()("page-content",{"page-content--background":!t.includes("account")&&!t.includes("not-found")},{"page-content--vertical-fields":!t.includes("account")&&!t.includes("not-found")})},c.a.createElement("div",{className:q()("container",{"container--vertical-padding":!t.includes("account")&&!t.includes("not-found")})},c.a.createElement(M.a,null,c.a.createElement(U,{exact:!0,path:"/",component:$e}),c.a.createElement(P.a,{path:"/sign-in",render:function(t){return c.a.createElement(he,{onLogin:e.login})}}),c.a.createElement(P.a,{path:"/logout",render:function(t){return c.a.createElement(ge,{onLogout:e.logout})}}),c.a.createElement(P.a,{path:"/sign-up",render:function(t){return c.a.createElement(ye,{onLogin:e.signup})}}),c.a.createElement(P.a,{path:"/reset-password",render:function(t){return c.a.createElement(ve,{onResetPassword:e.resetPassword})}}),c.a.createElement(U,{path:"/account",component:$e}),c.a.createElement(P.a,{path:"/not-found",component:ze}),c.a.createElement(P.a,{path:"*",component:ze})))))}}]),t}(n.Component);var et=Object(W.a)(Object(T.connect)(function(e){return Object(m.a)({},e)},function(e){return{dispatch:e}})(Ze)),tt=Object(s.createStore)(S,I);i.a.render(c.a.createElement(T.Provider,{store:tt},c.a.createElement(o.a,null,c.a.createElement(et,null))),document.getElementById("root"))}},[[123,2,1]]]);
//# sourceMappingURL=main.48dfd514.chunk.js.map